<%- include('./partials/head')%>
<link href="/css/cart.css" rel="stylesheet">
<script src="/scripts/cart.js" defer></script>
</head>
<body>
    <header>
        <%- include('./partials/nav')%>
    </header>
    <main>
        <section id="cart-container">
            <h3>Shopping Cart</h3>
            <% if (cart.length === 0) { %>
                <p>Your cart is empty.</p>
            <% } else { %>
                <% cart.forEach(item => { %>
                    <div class="cart-item">
                        <img src="<%= item.image_url %>" alt="<%= item.name %>">
                        <div class="item-info">
                            <p class="item-name"><%= item.name %></p>
                            <p class="item-price">$<%= item.price.toFixed(2) %></p>
                        </div>
                        <form method="POST" action="/cart/update">
                            <input type="hidden" name="product_id" value="<%= item.product_id %>">
                            <button type="submit" name="action" value="decrease" class="minus-btn">-</button>
                            <div class="quantity"> <%= item.quantity %> </div>
                            <button type="submit" name="action" value="increase" class="add-btn">+</button>
                        </form>
                    </div>
                <% }); %>
            <% } %>
        </section>

        <aside id="total-container">
            <p id="total-text">Total: $ <span id="total"><%= total.toFixed(2) %></span></p>
            <p>Delivery option:</p>
            <form id="delivery-pickup-form">
                <input type="radio" id="delivery" name="delivery-option" value="delivery">
                <label for="delivery">Delivery ($15 charge)</label><br>

                <input type="radio" id="pick-up" name="delivery-option" value="pick-up">
                <label for="pick-up">Pick-up</label><br>
            </form>
            <button id="checkout-btn"> Checkout </button>
            <p id="total-footnote">* 6.75% tax </p>
        </aside>
    </main>

    <footer>
        1201 Battleground Ave, Greensboro, NC 27408
    </footer>
</body>